
SELECT * from wb_common.com_company where orgid = 335

SELECT * from wb_common.com_dataitems

/*客户*/

SELECT a.id, a.code, a.full_name, a.short_name, a.mobile, a.addr, a.recorder, a.record_date,
       a.modifier, a.modify_date
from wb_common.com_guest a
where a.orgid = 335 and guest_type = '01020103'

SELECT a.id, b.id, a.full_name, a.short_name, a.mobile, a.addr, a.recorder, a.record_date,
       a.modifier, a.modify_date, b.name, b.mobile, b.identity, c.name, b.source, d.name
from wb_common.com_guest a
left join wb_repair.rpb_contactor b
on a.id = b.guest_id
left join wb_common.com_dataitems c
on b.identity = c.customid
left join wb_common.com_dataitems d
on b.source = d.customid
where a.orgid = 335 and guest_type = '01020103'


SELECT a.id, b.id, a.full_name, a.short_name, a.mobile, a.addr, a.recorder, a.record_date,
       a.modifier, a.modify_date, b.car_no, b.car_model_full_name, b.engine_no, b.vin, b.color,
       c.last_come_kilometers
from wb_common.com_guest a
inner join wb_repair.rpb_car b
on a.id = b.guest_id
left join wb_repair.rpb_car_extend c
on b.id = c.car_id
where a.orgid = 335 and guest_type = '01020103'

/*保险公司*/
SELECT * from wb_common.com_guest a where orgid = 335 and guest_type = '01020104'

/*供应商*/
SELECT a.id, a.code, a.full_name, a.short_name, a.manager, a.contactor_tel, 
       a.addr, a.mobile, a.bill_type_id, b.name, a.sett_type_id, c.name, d.name,
       a.recorder, a.record_date, a.modifier, a.modify_date
from wb_common.com_guest a
left join wb_common.com_dataitems b
on a.bill_type_id = b.customid
left join wb_common.com_dataitems c
on a.sett_type_id = c.customid
left join wb_common.com_dataitems d
on a.guest_property = d.customid
where a.orgid = 335 and a.guest_type = '01020202'






